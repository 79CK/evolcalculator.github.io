<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>恋与制作人计算器</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="evol calculator">
    <meta name="keywords" content="calculator">
    <meta name="author" content="Darina">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-cal.css" />
    <link rel="stylesheet" type="text/css" href="css/cal_style.css" />
    <script type='text/javascript' charset="utf-8" src='js/jquery.js'></script>
    <script type='text/javascript' charset="utf-8" src='js/storage.js'></script>
    <script type='text/javascript' charset="utf-8" src='js/bootstrap.js'></script>
    <script type='text/javascript' charset="utf-8" src='js/bootstrap3-typeahead.min.js'></script>
    <script type='text/javascript' charset="utf-8" src='js/vue.min.js'></script>
</head>

<body>
    <div id="app">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                        <span class="sr-only">切换导航</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="javascript:;" class="navbar-brand nav-title"><img src="img/logo-s.png" alt="header"/></a>
                </div>
                <div class="collapse navbar-collapse" id="navbar-menu">
                    <ul class="nav navbar-nav navbar-right">
                        <li :class="{active: nav == 'level'}"><a href="javascript:;" @click="nav = 'level'">关卡计算</a></li>
                        <li :class="{active: nav == 'card'}"><a href="javascript:;" @click="nav = 'card'">我的羁绊</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container">
            <div class="item_body">
                <div class="mycard">
                    <h3>恋与制作人计算器v2.0</h3>
                    <p>
                        <h4>数据来源</h4> 权重数据来源 <a href="https://weibo.com/unnamedgroup" target="_blank">@恋与制作人未命名攻略组</a>
                        <br> 计算器制作 @达尔娜 @清澄 @鱼骨头
                    </p>
                </div>
                <div class="mycard">
                    <div v-if="!empty(company)">
                        <h4>
                            <span>{{user.name}}</span>
                            <a href="javascript:;" @click="show_login('user_login')">切换</a>
                            <a href="javascript:;" @click="logout()">注销</a>
                        </h4>
                        <div class="form-group">
                            <span>羁绊数量：{{list.length}}</span>
                            <a href="javascript:;" @click="nav = 'card'" v-show="nav != 'card'">查看羁绊</a>
                            <a href="javascript:;" @click="nav = 'level'" v-show="nav != 'level'">关卡计算</a>
                        </div>
                        <h4>公司属性</h4>
                        <div class="form-group clearfix">
                            <div class="col-xs-3 col-md-2">
                                <label class="label-above">决策</label>
                                <input type="number" class="form-control" v-model="company.decisiveness">
                            </div>
                            <div class="col-xs-3 col-md-2">
                                <label class="label-above">创造</label>
                                <input type="number" class="form-control" v-model="company.creativity">
                            </div>
                            <div class="col-xs-3 col-md-2">
                                <label class="label-above">亲和</label>
                                <input type="number" class="form-control" v-model="company.kindness">
                            </div>
                            <div class="col-xs-3 col-md-2">
                                <label class="label-above">行动</label>
                                <input type="number" class="form-control" v-model="company.activity">
                            </div>
                            <div class="col-xs-3 col-sm-2 col-lg-1">
                                <button id="update_company" type="button" data-loading-text="保存中..." class="btn btn-primary form-control" autocomplete="off" @click="update_company()">保存</button>
                            </div>
                        </div>
                    </div>
                    <div v-else>
                        <h4>我的公司</h4>
                        <p>初次使用请先<a href="javascript:;" @click="show_login('create_user')">创建公司</a>，或<a href="javascript:;" @click="show_login('user_login')">进入公司</a></p>
                        <p>公司用于在线保存个人数据</p>
                    </div>
                </div>
                <div class="mycard" v-show="nav == 'card'">
                    <div v-show="!empty(company)">
                        <h4>添加羁绊</h4>
                        <div class="pd15">
                            <label class="label-above">输入关键字，添加或修改羁绊</label>
                            <input id="card_typeahead" type="text" class="typeahead form-control" data-provide="typeahead" autocomplete="off">
                            <p class="help-block">添加时先输入等级，自动推算属性值</p>
                        </div>
                        <div class="form-group">
                            <a href="javascript:;" class="btn btn-default" @click="show_batch('export_data')">导出</a>
                            <a href="javascript:;" class="btn btn-primary" @click="show_batch('import_data')">导入</a>
                        </div>
                        <div class="alert alert-warning" role="alert" v-show="!empty(batch.fail)">
                            以下导入失败，请检查名称是否正确：<br>
                            <template v-for="item in batch.fail">
                                <small style="margin: 0 5px;">{{item.name}}</small>
                            </template>
                            <button type="button" class="close" aria-label="Close" @click="batch.fail = []"><span aria-hidden="true">&times;</span></button>
                        </div>
                    </div>

                    <h4>我的羁绊</h4>

                    <div class="form-group" v-show="empty(company)">
                        <a href="javascript:;" class="link" @click="show_login('create_user')">创建</a>或<a href="javascript:;" class="link" @click="show_login('user_login')">进入</a>公司后获取羁绊数据
                    </div>

                    <p v-show="list.length > 1"><a href="javascript:;" @click="remove_all()">删除全部</a></p>

                    <div class="form-group clearfix">
                        <div class="col-xs-4 col-md-3 col-lg-2">
                            <label class="label-above">人物</label>
                            <select class="form-control" v-model="card_filter.category">
                                <option value="0">全部</option>
                                <option value="1">李泽言</option>
                                <option value="2">许墨</option>
                                <option value="3">周棋洛</option>
                                <option value="4">白起</option>
                                <option value="5">其他</option>
                            </select>
                        </div>
                        <div class="col-xs-4 col-md-3 col-lg-2">
                            <label class="label-above">稀有度</label>
                            <select class="form-control" v-model="card_filter.type">
                                <option value="0">全部</option>
                                <option value="5">SSR</option>
                                <option value="4">SR</option>
                                <option value="3">R</option>
                                <option value="2">NH</option>
                                <option value="1">N</option>
                            </select>
                        </div>
                        <div class="col-xs-4 col-md-3 col-lg-2">
                            <label class="label-above">筛选</label>
                            <input type="text" class="form-control" v-model="card_filter.name">
                        </div>
                    </div>

                    <table class="table table-bordered table-hover" v-show="!empty(list)">
                        <thead>
                            <tr>
                                <th>名称</th>
                                <th>等级</th>
                                <th class="hidden-xs">决策</th>
                                <th class="hidden-xs">创造</th>
                                <th class="hidden-xs">亲和</th>
                                <th class="hidden-xs">行动</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="item in list" v-show="use_filter(card_filter, item)">
                                <td>{{item.name}} <sub>{{get_type_tag(item.type)}}</sub></td>
                                <td>lv.{{item.level}} {{get_star_print(item.star)}} {{get_evolved_tag(item.evolved)}}</td>
                                <td class="hidden-xs">{{item.decisiveness}}</td>
                                <td class="hidden-xs">{{item.creativity}}</td>
                                <td class="hidden-xs">{{item.kindness}}</td>
                                <td class="hidden-xs">{{item.activity}}</td>
                                <td>
                                    <a href="javascript:;" @click="show_card(item.card_id)">修改</a>
                                    <a href="javascript:;" @click="remove_card(item.card_id)">删除</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mycard" v-show="nav == 'level'">
                    <h4>关卡计算</h4>
                    <div class="form-group" v-show="list.length < 3">
                        <a href="javascript:;" @click="nav = 'card'">添加</a>三张以上羁绊开启
                    </div>
                    <div class="form-group clearfix" v-if="!empty(select)">
                        <div class="col-xs-4 col-sm-3 col-md-2">
                            <label class="label-above">类别</label>
                            <select class="form-control" v-model="category">
                                <option :value="key" v-for="(item, key) in select">{{get_category_tag(key)}}</option>
                            </select>
                        </div>
                        <div class="col-xs-4 col-sm-3 col-md-2">
                            <label class="label-above">章节</label>
                            <select class="form-control" v-model="chapter">
                                <option :value="key" v-for="(item, key) in select[category]">第{{key}}章</option>
                            </select>
                        </div>
                        <div class="col-xs-4 col-sm-3 col-md-2">
                            <label class="label-above">关卡</label>
                            <select class="form-control" v-model="level">
                                <option value="0">全部</option>
                                <option :value="key" v-for="(item, key) in select[category][chapter]">{{chapter}}-{{key}}</option>
                            </select>
                        </div>
                        <div class="col-xs-4 col-sm-2 col-md-1" v-show="list.length >= 3">
                            <button id="get_levels" type="button" data-loading-text="加载中..." class="btn btn-primary form-control" autocomplete="off" @click="get_levels()">计算</button>
                        </div>
                    </div>
                    <table class="table table-bordered table-hover table-condensed" v-show="!empty(levels.list)">
                        <thead>
                            <tr>
                                <th>关卡</th>
                                <th class="hidden-xs hidden-sm">掉落</th>
                                <th class="hidden-xs">实力需求</th>
                                <th class="hidden-xs">特殊要求</th>
                                <th class="hidden-xs">推荐</th>
                                <th>高分羁绊</th>
                                <th>得分</th>
                                <th>星级</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template v-for="item in levels.list">
                                <tr v-for="i in [1, 2, 3]">
                                    <td rowspan="3" v-if="i == 1"><a href="javascript:;" class="link" @click="get_level(item.id)">{{item.chapter}}-{{item.level}}</a></td>
                                    <td rowspan="3" class="hidden-xs hidden-sm" v-if="i == 1">{{item.drops}}</td>
                                    <td rowspan="3" class="hidden-xs" v-if="i == 1">{{get_card_demand(item)}}</td>
                                    <td class="hidden-xs">{{item['request'+i]}}</td>
                                    <td class="hidden-xs cell" :class="{'cell-all': levels.overflow}" @click="levels.overflow = !levels.overflow">{{item['recommend'+i]}}</td>
                                    <td>{{item.combine[i-1]}}</td>
                                    <td rowspan="3" v-if="i == 1">{{item.score}}</td>
                                    <td rowspan="3" v-if="i == 1">{{get_rank_tag(item, item.score)}}</td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                    <div v-show="!empty(levels.level)">
                        <table class="table table-bordered table-hover table-condensed">
                            <thead>
                                <tr>
                                    <th>关卡掉落</th>
                                    <th>实力需求</th>
                                    <th>特殊要求</th>
                                    <th>推荐</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(i, idx) in levels.level.loop">
                                    <td :rowspan="levels.level.count" v-if="idx == 0">{{levels.level.drops}}</td>
                                    <td :rowspan="levels.level.count" v-if="idx == 0">{{get_card_demand(levels.level)}}</td>
                                    <td>{{levels.level['request'+i]}}</td>
                                    <td class="cell" :class="{'cell-all': levels.overflow}" @click="levels.overflow = !levels.overflow">{{levels.level['recommend'+i]}}</td>
                                </tr>
                            </tbody>
                        </table>

                        <table class="table table-bordered table-hover table-condensed">
                            <tbody>
                                <tr>
                                    <th>公司得分</th>
                                    <td>
                                        <a href="javascript:;" @click="show_special()">{{levels.company.decisiveness}} / {{levels.company.creativity}} / {{levels.company.kindness}} / {{levels.company.activity}}</a>
                                    </td>
                                    <td>{{get_company_score()}}</td>
                                </tr>
                                <tr>
                                    <th>专家得分</th>
                                    <td><a href="javascript:;" @click="show_special()">Normal * {{levels.multiple}}</a></td>
                                    <td>{{get_special_score()}}</td>
                                </tr>
                                <tr v-for="(item, idx) in levels.combine">
                                    <th rowspan="3" v-if="idx == 0">羁绊得分</th>
                                    <td><a href="javascript:;" @click="show_combine(idx)">{{item.name}} <sub>{{get_type_tag(item.type)}}</sub></a></td>
                                    <td>{{item.score}}</td>
                                </tr>
                                <tr>
                                    <th>总分</th>
                                    <td><small style="color: #737373;">点击上方更改</small></td>
                                    <td>{{get_total_score()}}</td>
                                </tr>
                            </tbody>
                        </table>

                        <table class="table table-bordered table-hover table-condensed" v-show="levels.level.pass_score > 0">
                            <thead>
                                <tr>
                                    <th>一星</th>
                                    <th>二星</th>
                                    <th>三星</th>
                                    <th>评级</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{{levels.level.pass_score}}</td>
                                    <td>{{levels.level.half_score}}</td>
                                    <td>{{levels.level.full_score}}</td>
                                    <td>{{get_rank_tag(levels.level, get_total_score())}}</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="form-group">
                            <p class="help-block">注：过关分数存在误差仅供参考，压线过关需谨慎</p>
                        </div>
                    </div>

                    <div v-show="!empty(levels.cards)">
                        <h4>
                            <span>羁绊分析</span>
                            <a href="javascript:;" @click="levels.config = !levels.config">设置</a>
                        </h4>

                        <div v-show="levels.config">
                            <div class="radio">
                                <span>筛选：</span>
                                <label>
                                    <input type="radio" v-model="levels.card" value="my">
                                    我的羁绊
                                </label>
                                <label>
                                    <input type="radio" v-model="levels.card" value="all">
                                    所有羁绊
                                </label>
                            </div>
                            <div class="radio">
                                <span>R：</span>
                                <label>
                                    <input type="radio" v-model="levels.r" value="hidden">
                                    隐藏
                                </label>
                                <label v-show="levels.card == 'my'">
                                    <input type="radio" v-model="levels.r" value="remain">
                                    不改变
                                </label>
                                <label>
                                    <input type="radio" v-model="levels.r" value="ordinary">
                                    进化前
                                </label>
                                <label>
                                    <input type="radio" v-model="levels.r" value="evolved">
                                    进化后
                                </label>
                            </div>
                            <div class="radio">
                                <span>SR：</span>
                                <label>
                                    <input type="radio" v-model="levels.sr" value="hidden">
                                    隐藏
                                </label>
                                <label v-show="levels.card == 'my'">
                                    <input type="radio" v-model="levels.sr" value="remain">
                                    不改变
                                </label>
                                <label>
                                    <input type="radio" v-model="levels.sr" value="ordinary">
                                    进化前
                                </label>
                                <label>
                                    <input type="radio" v-model="levels.sr" value="evolved">
                                    进化后
                                </label>
                            </div>
                            <div class="radio">
                                <span>SSR：</span>
                                <label>
                                    <input type="radio" v-model="levels.ssr" value="hidden">
                                    隐藏
                                </label>
                                <label v-show="levels.card == 'my'">
                                    <input type="radio" v-model="levels.ssr" value="remain">
                                    不改变
                                </label>
                                <label>
                                    <input type="radio" v-model="levels.ssr" value="ordinary">
                                    进化前
                                </label>
                                <label>
                                    <input type="radio" v-model="levels.ssr" value="evolved">
                                    进化后
                                </label>
                            </div>
                        </div>

                        <p class="help-block">点击设置更改羁绊属性，可进行过关分析</p>

                        <table class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>名称</th>
                                    <th>等级</th>
                                    <th class="hidden-xs">决策</th>
                                    <th class="hidden-xs">创造</th>
                                    <th class="hidden-xs">亲和</th>
                                    <th class="hidden-xs">行动</th>
                                    <th>得分</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="item in levels.cards">
                                    <td>{{item.name}} <sub>{{get_type_tag(item.type)}}</sub></td>
                                    <td>lv.{{item.level}} {{get_star_print(item.star)}} {{get_evolved_tag(item.evolved)}}</td>
                                    <td class="hidden-xs">{{item.decisiveness}}</td>
                                    <td class="hidden-xs">{{item.creativity}}</td>
                                    <td class="hidden-xs">{{item.kindness}}</td>
                                    <td class="hidden-xs">{{item.activity}}</td>
                                    <td>{{item.score}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal fade" tabindex="-1" role="dialog" id="company">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <ul class="nav nav-tabs">
                                <li role="presentation" :class="{active: login.option == 'create_user'}"><a href="javascript:;" @click="login.option = 'create_user'">创建公司</a></li>
                                <li role="presentation" :class="{active: login.option == 'user_login'}"><a href="javascript:;" @click="login.option = 'user_login'">进入公司</a></li>
                            </ul>
                            <div class="modal-main clearfix">
                                <div class="col-xs-12 col-sm-6">
                                    <label class="label-above">公司名称</label>
                                    <input type="text" class="form-control" v-model="login.name">
                                </div>
                                <div class="col-xs-12 col-sm-6">
                                    <label class="label-above">密码保护</label>
                                    <input type="text" class="form-control" v-model="login.code">
                                </div>
                                <p class="col-xs-12 help-block">公司名称不能重复，密码保护可为空，设置密码可防止数据被他人修改</p>
                                <p class="col-xs-12 help-block" v-show="!empty(login.history) && login.option == 'user_login'">
                                    历史记录：
                                    <a href="javascript:;" v-for="(item, key) in login.history" @click="login.name=key;login.code=item;">{{key}}</a>
                                </p>
                            </div>
                            <div class="alert alert-warning" role="alert" v-show="login.warning">
                                {{login.warning}}
                                <button type="button" class="close" aria-label="Close" @click="login.warning = ''"><span aria-hidden="true">&times;</span></button>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            <button id="user_login" type="button" class="btn btn-primary" data-loading-text="确认中..." autocomplete="off" @click="user_login()">确认</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" tabindex="-1" role="dialog" id="card">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title">{{card_select.name}}</h4>
                        </div>
                        <div class="modal-body">
                            <div class="form-group clearfix">
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above">进化</label>
                                    <select class="form-control" v-model="card_select.evolved">
                                        <option value="0">未进化</option>
                                        <option value="1">进化</option>
                                    </select>
                                </div>
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above">星级</label>
                                    <input type="number" class="form-control" v-model="card_select.star">
                                </div>
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above">等级</label>
                                    <input type="number" class="form-control" v-model="card_select.level">
                                </div>
                            </div>
                            <div class="form-group clearfix">
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">决策</label>
                                    <input type="number" class="form-control" v-model="card_select.decisiveness">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">创造</label>
                                    <input type="number" class="form-control" v-model="card_select.creativity">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">亲和</label>
                                    <input type="number" class="form-control" v-model="card_select.kindness">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">行动</label>
                                    <input type="number" class="form-control" v-model="card_select.activity">
                                </div>
                            </div>
                            <p class="help-block">数据为自动推算，可能存在误差，如有需要请对照修改</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            <button type="button" id="save_card" class="btn btn-primary" data-loading-text="保存中..." @click="save_card()">保存</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" tabindex="-1" role="dialog" id="combine">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="pd15">
                                <label class="label-above">羁绊名</label>
                                <input type="text" id="combine_typeahead" class="typeahead form-control" data-provide="typeahead" autocomplete="off">
                            </div>
                            <div class="form-group clearfix">
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above">进化</label>
                                    <select class="form-control" v-model="levels.select.evolved">
                                        <option value="0">未进化</option>
                                        <option value="1">进化</option>
                                    </select>
                                </div>
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above">星级</label>
                                    <input type="number" class="form-control" v-model="levels.select.star">
                                </div>
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above">等级</label>
                                    <input type="number" class="form-control" v-model="levels.select.level">
                                </div>
                            </div>
                            <div class="form-group clearfix">
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">决策</label>
                                    <input type="number" class="form-control" v-model="levels.select.decisiveness">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">创造</label>
                                    <input type="number" class="form-control" v-model="levels.select.creativity">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">亲和</label>
                                    <input type="number" class="form-control" v-model="levels.select.kindness">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">行动</label>
                                    <input type="number" class="form-control" v-model="levels.select.activity">
                                </div>
                            </div>
                            <p>得分：{{levels.select.score}}</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-primary" @click="save_combine()">保存</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" tabindex="-1" role="dialog" id="special">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="form-group clearfix">
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">决策</label>
                                    <input type="number" class="form-control" v-model="levels.company.decisiveness">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">创造</label>
                                    <input type="number" class="form-control" v-model="levels.company.creativity">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">亲和</label>
                                    <input type="number" class="form-control" v-model="levels.company.kindness">
                                </div>
                                <div class="col-xs-3 col-md-2">
                                    <label class="label-above">行动</label>
                                    <input type="number" class="form-control" v-model="levels.company.activity">
                                </div>
                            </div>
                            <div class="form-group clearfix">
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above">Normal倍数</label>
                                    <input type="number" class="form-control" v-model="levels.multiple">
                                </div>
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above" style="text-align: center;">公司得分</label>
                                    <span>{{get_company_score()}}</span>
                                </div>
                                <div class="col-xs-4 col-md-3 col-lg-2">
                                    <label class="label-above" style="text-align: center;">专家得分</label>
                                    <span>{{get_special_score()}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">确定</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" tabindex="-1" role="dialog" id="batch">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <ul class="nav nav-tabs">
                                <li role="presentation" :class="{active: batch.option == 'import_data'}"><a href="javascript:;" @click="batch.option = 'import_data'">批量导入</a></li>
                                <li role="presentation" :class="{active: batch.option == 'export_data'}"><a href="javascript:;" @click="batch.option = 'export_data'">批量导出</a></li>
                            </ul>
                            <div class="modal-main">
                                <div class="radio">
                                    <label>
                                        <input type="radio" v-model="batch.source" value="calculator">
                                        计算器
                                    </label>
                                    <label>
                                        <input type="radio" v-model="batch.source" value="excel">
                                        Excel
                                    </label>
                                </div>
                                <textarea class="form-control" v-model="batch.data" v-show="batch.option == 'import_data'"></textarea>
                                <textarea class="form-control" v-model="batch.export" v-show="batch.option == 'export_data'"></textarea>
                                <p class="help-block" v-show="batch.option == 'import_data' && batch.source == 'calculator'">贴入计算器导出的JSON数据</p>
                                <p class="help-block" v-show="batch.option == 'import_data' && batch.source == 'excel'">贴入从表格复制的数据，第一列为羁绊名，后四列为羁绊属性</p>
                                <p class="help-block" v-show="batch.option == 'export_data'">数据在线保存，如有需要可以导出对应格式</p>
                            </div>
                        </div>
                        <div class="modal-footer" v-show="batch.option == 'import_data'">
                            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            <button type="button" id="import_data" class="btn btn-primary" data-loading-text="导入中..." @click="import_data()">导入</button>
                        </div>
                        <div class="modal-footer" v-show="batch.option == 'export_data'">
                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                            <button type="button" class="btn btn-primary" @click="export_data()">导出</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/vm.js"></script>
</body>

</html>